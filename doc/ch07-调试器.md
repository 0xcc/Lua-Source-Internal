###Lua调试器工作原理
要实现任何一个语言的调试器,大致需要有以下几个功能:

	1.如何让程序按照所下的断点终止程序?
	2.如何获得断点处程序相关的信息,比如调用堆栈,打印变量值?
	3.如何在断点处继续进入一个函数进行调试?

下面,来逐个分析Lua在实现调试器方面都提供了哪些支持以及如何使用它们来实现一个自己的Lua调试器.

####lua提供的hook功能
lua为了支持调试，提供了hook功能，使用者可以根据需要添加不同的hook处理函数供条件触发时回调，包括以下几种：
具体包括以下几种hook类型：

	(lua.h)
	321 #define LUA_MASKCALL    (1 << LUA_HOOKCALL)
	322 #define LUA_MASKRET (1 << LUA_HOOKRET)
	323 #define LUA_MASKLINE    (1 << LUA_HOOKLINE)
	324 #define LUA_MASKCOUNT   (1 << LUA_HOOKCOUNT)
	
调用lua_sethook函数传入上面的参数,可以在对应的调用处调用注册的回调函数,其中:

	1.LUA_MASKCALL在函数被调用时触发;
	2.LUA_MASKRET在函数返回时被触发;
	3.LUA_MASKLINE每执行一行代码时被触发;
	4.LUA_MASKCOUNT每执行count条lua指令触发一次，这里的count是lua_sethook函数的第三个参数中传入,使用其它hook类型时该参数无效.